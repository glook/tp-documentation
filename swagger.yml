swagger: "2.0"
info:
  description: "Образец документации для wordpress плагина"
  version: "0.0.1"
  title: "Travelpayouts wp"
basePath: "/"
tags:
- name: "Глобальные настройки"
  description: "Настройки пользователя, которые будут использованы всеми виджетами/шорткодами"
schemes:
- "https"
- "http"
paths:
  /account:
    get:
      tags:
      - "Глобальные настройки"
      - "Аккаунт"
      description: "Отображение информации о учетных записях пользователя"
      responses:
        200:
          description: "Отображаем аттрибуты формы с данными"
          schema:
           $ref: "#/definitions/Account"
    post:
      tags:
      - "Глобальные настройки"
      - "Аккаунт"
      description: "Сохранение информации о учетных записях пользователя"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
      - in: "body"
        name: "body"
        required: true
        schema:
          $ref: "#/definitions/Account"
    delete:
      tags:
      - "Глобальные настройки"
      - "Аккаунт"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
           $ref: "#/definitions/Account"
  /settings:
    get:
      tags:
        - "Глобальные настройки"
        - "Настройки"
      description: "Отображение информации о настройках пользователя"
      responses:
        200:
          description: "Отображаем аттрибуты формы с данными"
          schema:
           $ref: "#/definitions/Settings"
    delete:
      tags:
      - "Глобальные настройки"
      - "Настройки"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
           $ref: "#/definitions/Settings"
    post:
      tags:
      - "Глобальные настройки"
      - "Настройки"
      description: "Сохранение информации о настройках пользователя"
      consumes:
      - "application/json"
      produces:
      - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
      - in: "body"
        name: "body"
        required: true
        schema:
          $ref: "#/definitions/Settings"
  /shortcode/price_calendar_month:
    get:
      description: "Цены на билеты в одну сторону, по направлению, на ближайшие 30 дней"
      tags:
        - "Шорткоды"
        - "Таблицы"
        - "Таблицы - Авиабилеты"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/Shortcode_price_calendar_month'


  /shortcode/flights_price_map:
    get:
      description: "Авиабилеты. Карта цен. Интерактивная карта со схемой рейсов из указанного или автоматически
      определенного города вылета. Клик в любом месте карты перенаправит пользователя на map.aviasales.ru."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_prices_map'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_prices_map'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      description: "Сохранение информации: Виджеты > Авиабилеты. Карта цен"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_shortcode_flights_prices_map"

  /shortcode/hotels_map:
    get:
      description: "Отели. Карта отелей. Карта с доступными отелями и примерными ценами на них в выбранном месте."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_hotels_map'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_hotels_map'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      description: "Сохранение информации: Виджеты > Отели. Карта отелей"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_shortcode_flights_hotels_map"

  /shortcode/flights_low_price_calendar:
    get:
      description: "Авиабилеты. Календарь низких цен. Минимальные цены на перелет по выбранному направлению
      на множество дат."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_low_price_calendar'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_low_price_calendar'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      description: "Сохранение информации: Виджеты > Авиабилеты. Календарь низких цен"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_shortcode_flights_low_price_calendar"

  /shortcode/flights_price_change_subscription:
    get:
      description: "Авиабилеты. Подписка на изменение цен. Уведомления о изменении цены на перелет по направлению
      в выбранные даты/месяца."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_price_change_subscription'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_price_change_subscription'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      description: "Сохранение информации: Виджеты > Авиабилеты. Подписка на изменение цен."
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_shortcode_flights_price_change_subscription"

  /shortcode/hotel_widget:
    get:
      description: "Виджет отеля. Краткая информация про конкретный отель с возможностью выбора дат проживания,
      поиском цены и переходом сразу на страницу бронирования (минуя Hotellook)."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_hotel_widget'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_hotel_widget'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      description: "Сохранение информации: Виджеты > Виджет отеля"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_shortcode_flights_hotel_widget"

  /shortcode/flights_popular_route:
    get:
      description: "Авиабилеты. Популярные направления. Цены на перелет в город с города вылета пользователя
      и других популярных направлений."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_popular_route'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_popular_route'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      description: "Сохранение информации: Виджеты > Авиабилеты. Популярные направления"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_shortcode_flights_popular_route"

  /shortcode/hotels_selection:
    get:
      description: "Отели. Подбороки. Автоматические или вручную созданные подборки отелей в городе."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_hotels_selection'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_hotels_selection'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
        - "Отели"
      description: "Сохранение информации: Виджеты > Отели. Подбороки"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_shortcode_flights_hotels_selection"

  /shortcode/flights_special_offer:
    get:
      description: "Авиабилеты. Спецпредложения. Красивая и удобная визуализация данных о спецпредложениях
      авиакомпаний."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_special_offer'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_shortcode_flights_special_offer'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Авиабилеты"
      description: "Сохранение информации: Виджеты > Авиабилеты. Спецпредложения"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_shortcode_flights_special_offer"

  /shortcode/widget_hotels_selections_discount:
    get:
      description: "Подборка отелей со скидками по локации. Интерактивная карта со схемой рейсов из указанного
      или автоматически определенного города вылета. Клик в любом месте карты перенаправит
      пользователя на map.aviasales.ru."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Отели"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_widget_hotels_selections_discount_shortcodes'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Отели"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_widget_hotels_selections_discount_shortcodes'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Отели"
      description: "Сохранение информации: Виджеты > Отели > Подборка отелей со скидками по локации"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_widget_hotels_selections_discount_shortcodes"

  /shortcode/widget_hotels_selections_date:
    get:
      description: "Подборки отелей на даты. Интерактивная карта со схемой рейсов из указанного или автоматически
      определенного города вылета. Клик в любом месте карты перенаправит пользователя на map.aviasales.ru."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Отели"
      responses:
        200:
          description: "Получаем аттрибуты формы с данными"
          schema:
            $ref: '#/definitions/tp_widget_hotels_selections_date_shortcodes'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Отели"
      responses:
        200:
          description: "Восстанавливаем значения к первоначальным, вызывается по нажатию кнопки reset"
          schema:
            $ref: '#/definitions/tp_widget_hotels_selections_date_shortcodes'
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Виджеты - Отели"
      description: "Сохранение информации: Виджеты > Отели > Подборки отелей на даты"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_widget_hotels_selections_date_shortcodes"

  /search_forms:
    get:
      description: "Размещеие поисковых форм. В этом разделе вы можете добавлять шорткоды для поисковых форм,
      настроенных в админке аккаунта Travelpayouts https://www.travelpayouts.com/tools/forms Подробная инструкция
      доступна тут (https://travel-template.dist.ooo/search-form.html#)."
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Поисковые формы"
      responses:
        200:
          description: "Получаем array of objects для таблицы Управление шорткодами"
          schema:
            $ref: '#/definitions/tp_search_form_shortcodes'
    delete:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Поисковые формы"
      responses:
        200:
          description: "Удаляет выбранные шорткоды *schema?"
          schema:
            $ref: '#/definitions/ApiResponse'
      parameters:
        - in: "body"
          name: "ids"
          required: true
          schema:
            type: "array"
            items:
              type: "object"
              properties:
                id:
                  type: "integer"
    post:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Поисковые формы"
      description: "Добавление: Поисковые формы > Добавить"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_search_form_add_shortcode"
    put:
      tags:
        - "Шорткоды"
        - "Виджеты"
        - "Поисковые формы"
      description: "Отредактировать: Поисковые формы > Отредактировать"
      consumes:
        - "application/json"
      produces:
        - "application/json"
      responses:
        404:
          description: "В разработке"
        200:
          description: "Данные успешно сохранены"
          schema:
            $ref: "#/definitions/ApiResponse"
      parameters:
        - in: "body"
          name: "body"
          required: true
          schema:
            $ref: "#/definitions/tp_search_form_add_shortcode"


definitions:


  $assign_dates:
    type: boolean
    description: "Подставлять даты при переходе"
    format: "checkbox"
    default: false
  $map_width:
    type: "number"
    description: "Размеры карты - Ширина"
    format: "input"
  $map_height:
    type: "number"
    description: "Размеры карты - Высота"
    format: "input"
  $scalling_width_toggle:
    type: "boolean"
    description: "Растягивать по ширине"
    format: "checkbox"
  $scalling_width:
    type: "number"
    description: "Размеры виджета - Ширина"
    format: "input"
  $direct_flight:
    type: "boolean"
    description: "Показывать только прямые рейсы"
    format: "checkbox"
  $city_departure:
    type: "string"
    description: "Направления - Город вылета"
    format: "input"
  $city_arrive:
    type: "string"
    description: "Направления - Город прилёта"
    format: "input"


  $use_pagination:
    type: boolean
    description: "Использовать пагинацию"
    format: "checkbox"
  $pagination_size:
    type: integer
    description: "Кол-во результатов на странице"
    format: "inputNumber"
  $additionalMarker:
    type: string
    format: "input"
    description: "Дополнительный маркер"
  $apply_to_all_tables:
    type: boolean
    format: "checkbox"
    description: "Применить ко всем таблицам"
  $title_tags:
    type: "string"
    description: "Тег заголовка"
    default: "h3"
    format: "selectBox"
    enum: &title_tags
            - "h1"
            - "h2"
            - "h3"
            - "h4"
            - "h5"
            - "h6"
  $headerText:
    type: "string"
    description: "Текст заголовка таблицы"
    format: "input"
  $button_text:
      type: "string"
      description: "Текст кнопки"
      format: "input"
  $sort_by:
    type: string
    description: "Сортировка по столбцу"
    format: "selectBox"
  $shortcode_columns:
    type: "string"
    description: "Колонки таблицы, как реализовать в модели пока непонятно, мб разделить на скрытые и отображаемые колонки???"
    format: "drag-n-drop-columns"
  Settings:
    type: "object"
    properties:
      flights_source:
        type: "string"
        description: "Хост для авиабилетов"
        default: "???"
        format: "selectBox"
      hotels_source:
        type: "string"
        description: "Хост для отелей"
        default: "???"
        format: "selectBox"
      language:
        type: "string"
        description: "Язык таблиц и виджетов"
        default: "???"
        format: "selectBox"
      currency:
        type: "string"
        description: "Код валюты"
        default: "???"
        format: "selectBox"
      script_location:
        type: "string"
        description: "Размещение скриптов плагина внутри тега"
        enum: 
          - "<head>"
          - "<div>"
        default: "<head>"
        format: "selectBox"
      render_everywere:
        type: "boolean"
        description: "Размещение таблиц вне постовых страниц. Для оптимизации работы вашего сайта скрипты плагина по умолчанию вызываются только если шорткоды вставлены в постах или страницах. Активируйте эту опцию, если вы хотите размещать шорткоды в других местах (например, сайдбар)"
        default: false
        format: "checkbox"
  Account:
    type: "object"
    properties:
      api_token:
        type: "string"
        description: "Ваш API токен Travelpayouts"
        format: "input"
      api_marker:
        type: "string"
        description: "Ваш партнёрский маркер Travelpayouts"
        format: "input"
      flights_domain:
        type: "string"
        description: "АВИА WHITE LABEL"
        format: "input"
      hotels_domain:
        type: "string"
        description: "ОТЕЛЬНЫЙ WHITE LABEL"
        format: "input"
    required: 
      - "api_token"
      - "api_marker"
  ApiResponse:
    type: "object"
    required:
      - "status"
    properties:
      status: 
        type: "string"
        description: "Статус ответа"
        enum:
          - "ok"
      data:
        type: "object"
        description: "Необходимые данные"
  ApiResponseError:
    type: "object"
    required:
      - "status"
      - "messages"
    properties:
      status: 
        type: "string"
        description: "Статус ответа"
        enum:
          - "error"
      messages:
        type: "string"
        description: "Массив сообщений о том, что что-то пошло не так"
  Shortcode_price_calendar_month:
    type: "object"
    properties:
      title:
        type: "string"
        description: "Текст заголовка таблицы"
        default: "Цены на авиабилеты в одну сторону из %{origin} в %{destination}, на ближайшее"
        format: "input"
      title_tag:
        $ref: "#/definitions/%24title_tags"
      columns:
        type: "string"
        description: "Колонки таблицы, как реализовать в модели пока непонятно, мб разделить на скрытые и отображаемые колонки???"
        format: "drag-n-drop-columns"
        enum:
          - "Стоимость"
          - "Класс перелета"
          - "Расстояние"
          - "Дата вылета"
          - "Пересадки"
          - "Кнопки"


  tp_shortcode_flights_prices_map:
    type: "object"
    properties:
      map_width:
        allOf:
          - $ref: "#/definitions/%24map_width"
          - default: "500"
      map_height:
        allOf:
          - $ref: "#/definitions/%24map_height"
          - default: "300"
      direct_flight:
        allOf:
          - $ref: "#/definitions/%24direct_flight"
          - default: false
      show_logo:
        type: "boolean"
        description: "Показывать логотип"
        default: false
        format: "checkbox"

  tp_shortcode_flights_hotels_map:
    type: "object"
    properties:
      map_width:
        allOf:
          - $ref: "#/definitions/%24map_width"
          - default: "500"
      map_height:
        allOf:
          - $ref: "#/definitions/%24map_height"
          - default: "300"
      pagination_qty:
        type: "number"
        description: "Детали булавки - Диаметр"
        default: "16"
        format: "input"
      color_pallete:
        type: "string"
        description: >
          Детали булавки - Цветовая схема:
           * `#A2CCFF` Custom, добавляет 2 поля input - Цвет булавок (pins_color) и Цвет текста (texts_color)
        enum:
          - "#98056A"
          - "#00AFE4"
          - "#74BA00"
          - "#DB5521"
          - "#FFBC00"
          - "#A2CCFF"
        default: "#FFBC00"
        format: "radio"
      pins_color:
        type: "string"
        description: "Детали булавки - Цвет булавок *custom"
        default: "#A2CCFF"
        format: "input"
      texts_color:
        type: "string"
        description: "Детали булавки - Цвет текста *custom"
        default: "#A2CCFF"
        format: "input"
      allow_dragging:
        type: "boolean"
        description: "Разрешить перетаскивать"
        default: false
        format: "checkbox"
      enable_zooming:
        type: "boolean"
        description: "Включить масштабирование"
        default: false
        format: "checkbox"
      zooming_during_scrolling:
        type: "boolean"
        description: "Масштабирование при прокрутке"
        default: false
        format: "checkbox"

  tp_shortcode_flights_low_price_calendar:
    type: "object"
    properties:
      scalling_width_toggle:
        allOf:
          - $ref: "#/definitions/%24scalling_width_toggle"
          - default: false
      scalling_width:
        allOf:
          - $ref: "#/definitions/%24scalling_width"
          - default: "500"
      city_departure:
        allOf:
          - $ref: "#/definitions/%24city_departure"
          - default: "Пхукет"
      city_arrive:
        allOf:
          - $ref: "#/definitions/%24city_arrive"
          - default: "Бангкок"
      current_month:
        type: "boolean"
        description: "Цены на период - Только текущий месяц"
        default: false
        format: "checkbox"
      whole_year:
        type: "boolean"
        description: "Цены на период - Весь год"
        default: false
        format: "checkbox"
      december:
        type: "boolean"
        description: "Цены на период - Декабрь"
        default: false
        format: "checkbox"
      january:
        type: "boolean"
        description: "Цены на период - Январь"
        default: false
        format: "checkbox"
      february:
        type: "boolean"
        description: "Цены на период - Февраль"
        default: false
        format: "checkbox"
      march:
        type: "boolean"
        description: "Цены на период - Март"
        default: false
        format: "checkbox"
      april:
        type: "boolean"
        description: "Цены на период - Апрель"
        default: false
        format: "checkbox"
      may:
        type: "boolean"
        description: "Цены на период - Май"
        default: false
        format: "checkbox"
      june:
        type: "boolean"
        description: "Цены на период - Июнь"
        default: false
        format: "checkbox"
      july:
        type: "boolean"
        description: "Цены на период - Июль"
        default: false
        format: "checkbox"
      august:
        type: "boolean"
        description: "Цены на период - Август"
        default: false
        format: "checkbox"
      september:
        type: "boolean"
        description: "Цены на период - Сентябрь"
        default: false
        format: "checkbox"
      october:
        type: "boolean"
        description: "Цены на период - Октябрь"
        default: false
        format: "checkbox"
      november:
        type: "boolean"
        description: "Цены на период - Ноябрь"
        default: false
        format: "checkbox"
      travel_time:
        type: "string"
        description: "Длительность поездки"
        default: '7,14'
        format: "inputSlider"
      route_control:
        type: "string"
        description: >
          Длительность поездки:
           * `one_way_ticket` в один конец
           * `round_trip_ticket` в обе стороны
        enum:
          - "one_way_ticket"
          - "round_trip_ticket"
        format: "radio"
      only_direct_flight:
        allOf:
          - $ref: "#/definitions/%24direct_flight"
          - default: false

  tp_shortcode_flights_price_change_subscription:
    type: "object"
    properties:
      scalling_width_toggle:
        allOf:
          - $ref: "#/definitions/%24scalling_width_toggle"
          - default: false
      scalling_width:
        allOf:
          - $ref: "#/definitions/%24scalling_width"
          - default: "500"
      city_departure:
        allOf:
          - $ref: "#/definitions/%24city_departure"
          - default: "Пхукет"
      city_arrive:
        allOf:
          - $ref: "#/definitions/%24city_arrive"
          - default: "Бангкок"
      bg_pallete:
        type: "string"
        description: >
          Цветовая схема:
           * `A2CCFF` Custom, добавляет 1 поле input - Цвет фона (bg-color)
        enum:
          - "#222222"
          - "#98056A"
          - "#00AFE4"
          - "#74BA00"
          - "#DB5521"
          - "#FFBC00"
          - "#DADADA"
          - "#A2CCFF"
        format: "radio"
      bg_color:
        type: "string"
        description: "Цветовая схема - Цвет фона *custom"
        default: "#00B0E2"
        format: "input"

  tp_shortcode_flights_hotel_widget:
    type: "object"
    properties:
      scalling_width_toggle:
        allOf:
          - $ref: "#/definitions/%24scalling_width_toggle"
          - default: false
      scalling_width:
        allOf:
          - $ref: "#/definitions/%24scalling_width"
          - default: "661"

  tp_shortcode_flights_popular_route:
    type: "object"
    properties:
      scalling_width_toggle:
        allOf:
          - $ref: "#/definitions/%24scalling_width_toggle"
          - default: false
      scalling_width:
        allOf:
          - $ref: "#/definitions/%24scalling_width"
          - default: "800"
      widget_count:
        type: "string"
        description: "Количество виджетов при добавлении в запись"
        enum:
          - "1"
          - "2"
          - "3"
        format: "radio"

  tp_shortcode_flights_hotels_selection:
    type: "object"
    properties:
      widget_design:
        type: "boolean"
        description: >
          Дизайн виджета:
            * `Расширенный` false
            * `Компактный` true
        default: true
        enum:
          - "Расширенный"
          - "Компактный"
        format: "checkbox"
      scalling_width_toggle:
        allOf:
          - $ref: "#/definitions/%24scalling_width_toggle"
          - default: false
      scalling_width:
        allOf:
          - $ref: "#/definitions/%24scalling_width"
          - default: "800"
      selection_hotel_count:
        type: "number"
        description: "Количество отелей в подборке"
        default: "4"
        format: "inputSlider"

  tp_shortcode_flights_special_offer:
    type: "object"
    properties:
      widget_design:
        type: "boolean"
        description: >
          Дизайн виджета:
            * `Плитка` false
            * `Слайдер` true
        default: true
        enum:
          - "Плитка"
          - "Слайдер"
        format: "checkbox"
      scalling_width_toggle:
        allOf:
          - $ref: "#/definitions/%24scalling_width_toggle"
          - default: false
      scalling_width:
        allOf:
          - $ref: "#/definitions/%24scalling_width"
          - default: "560"
      limit_special_offer:
        type: "number"
        description: "Лимит на спецпредложения"
        default: "2"
        format: "inputSlider"
      filtering:
        type: "string"
        description: >
          Длительность поездки:
           * `for-route` по направлениям
           * `for-aircompanies` по авиакомпаниям
        enum:
          - "for-route"
          - "for-aircompanies"
        format: "radio"

  tp_widget_hotels_selections_discount_shortcodes:
    type: "object"
    properties:
      title:
        allOf:
          - $ref: "#/definitions/%24headerText"
          - default: "Цены на авиабилеты в одну сторону из %{origin} в %{destination}, на ближайшее"
      title_tag:
        $ref: "#/definitions/%24title_tags"
      columns:
        allOf:
          - $ref: "#/definitions/%24shortcode_columns"
          - enum:
            - "Цена за ночь, от"
            - "Старая цена и скидка"
            - "До центра"
            - "Цена до скидки"
            - "Рейтинг"
            - "Отель"
            - "Звездность"
            - "Скидка"
            - "Старая и новая цена"
            - "Кнопка"
      button_text:
        allOf:
          - $ref: "#/definitions/%24button_text"
          - default: "Посмотреть отель"
      assign_dates:
        allOf:
          - $ref: "#/definitions/%24assign_dates"
          - default: false
      sort_by:
        allOf:
          - $ref: "#/definitions/%24sort_by"
          - enum:
            - "Старая и новая цена"
            - "Дата возвращения"
            - "Пересадки"
            - "Номер рейса"
            - "Рейс"
            - "Стоимость"
      use_pagination:
        allOf:
          - $ref: "#/definitions/%24use_pagination"
          - default: false
      pagination_size:
        allOf:
          - $ref: "#/definitions/%24pagination_size"
          - default: "10"
      additional_marker:
        allOf:
          - $ref: "#/definitions/%24additionalMarker"
          - default: "hotelsSelections"
      apply_to_all_tables:
        allOf:
          - $ref: "#/definitions/%24apply_to_all_tables"
          - default: false

  tp_widget_hotels_selections_date_shortcodes:
      type: "object"
      properties:
        title:
          allOf:
            - $ref: "#/definitions/%24headerText"
            - default: "Цены на авиабилеты в одну сторону из %{origin} в %{destination}, на ближайшее"
        title_tag:
          $ref: "#/definitions/%24title_tags"
        columns:
          allOf:
            - $ref: '#/definitions/%24shortcode_columns'
            - enum:
              - "До центра"
              - "Отель"
              - "Звездность"
              - "Рейтинг"
              - "Цена за ночь, от"
              - "Кнопка"
        button_text:
          allOf:
            - $ref: "#/definitions/%24button_text"
            - default: "View Hotel %{price}"
        sort_by:
          allOf:
            - $ref: "#/definitions/%24sort_by"
            - enum:
              - "Старая и новая цена"
              - "Дата возвращения"
              - "Пересадки"
              - "Номер рейса"
              - "Рейс"
              - "Стоимость"
        use_pagination:
          allOf:
            - $ref: "#/definitions/%24use_pagination"
            - default: false
        pagination_size:
          allOf:
            - $ref: "#/definitions/%24pagination_size"
            - default: "10"
        additional_marker:
          allOf:
            - $ref: "#/definitions/%24additionalMarker"
            - default: 'calMonth'
        apply_to_all_tables:
          allOf:
            - $ref: "#/definitions/%24apply_to_all_tables"
            - default: false

  tp_search_form_add_shortcode:
    type: "object"
    properties:
      id:
        type: "integer"
        description: "Id шорткода (hidden)"
      name:
        type: "string"
        description: "Название (Введите название для формы)"
        format: "input"
      form_code:
        type: "string"
        description: "Код формы TravelPayouts (Введите домен, настроенный в Travelpayouts)"
        format: "textarea"
      city_departure:
        type: "string"
        description: "Локация - Город вылета (Введите домен, настроенный в Travelpayouts)"
        format: "input"
      city_arrive:
        type: "string"
        description: "Локация - Город прилета (Введите домен, настроенный в Travelpayouts)"
        format: "input"
      city_residence:
        type: "string"
        description: "Локация - Город проживания (Введите домен, настроенный в Travelpayouts)"
        format: "input"

  tp_search_form_shortcodes:
    type: "array"
    items:
      $ref: "#/definitions/tp_search_form_add_shortcode"


        
          
  
        